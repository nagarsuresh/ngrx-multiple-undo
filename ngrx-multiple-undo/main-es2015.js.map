{"version":3,"sources":["./$_lazy_route_resource lazy namespace object","./src/app/app.component.html","./src/app/app.component.scss","./src/app/app.component.ts","./src/app/app.module.ts","./src/app/reducers/index.ts","./src/environments/environment.ts","./src/main.ts"],"names":[],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,4CAA4C,WAAW;AACvD;AACA;AACA,wE;;;;;;;;;;;ACZA,krCAAkrC,oBAAoB,yCAAyC,eAAe,yCAAyC,YAAY,yCAAyC,aAAa,kEAAkE,gBAAgB,6E;;;;;;;;;;;ACA37C,gCAAgC,sBAAsB,GAAG,6CAA6C,mb;;;;;;;;;;;;;;;;;;;;;ACApD;AAEd;AACqC;AAEtC;AAOnC,IAAa,YAAY,GAAzB,MAAa,YAAY;IAMvB,YAAoB,KAAmB;QAAnB,UAAK,GAAL,KAAK,CAAc;QALvC,UAAK,GAAG,oBAAoB,CAAC;QAC7B,aAAQ,GAAY,EAAE,CAAC;QACvB,WAAM,GAAY,EAAE,CAAC;QAInB,KAAK,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC,SAAS,CAAC,WAAW,CAAC,EAAE;YAClD,IAAI,CAAC,MAAM,GAAG,WAAW,CAAC,MAAM,CAAC;QACnC,CAAC,CAAC,CAAC;QACH,KAAK,CAAC,MAAM,CAAC,iDAAO,CAAC,CAAC,SAAS,CAAC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,CAAC;IACxE,CAAC;IAED,QAAQ;IACR,CAAC;IAED,KAAK;QACH,MAAM,KAAK,GAAU,EAAC,EAAE,EAAE,wDAAQ,EAAE,EAAE,YAAY,EAAE,YAAY,wDAAQ,EAAE,EAAE,EAAE,OAAO,EAAE,wDAAQ,EAAE,EAAE,IAAI,EAAE,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE,CAAC;QACzH,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,0DAAQ,CAAC,KAAK,CAAC,CAAC,CAAC;IACvC,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,6DAAW,CAAC,EAAE,GAAG,EAAE,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACxE,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;IACrB,CAAC;IAED,MAAM;QACJ,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,sDAAI,EAAE,CAAC,CAAC;IAC9B,CAAC;CACF;;YAvB4B,iDAAK;;AANrB,YAAY;IALxB,+DAAS,CAAC;QACT,QAAQ,EAAE,UAAU;QACpB,uIAAmC;;KAEpC,CAAC;GACW,YAAY,CA6BxB;AA7BwB;;;;;;;;;;;;;;;;;;;;;;;;;;ACZiC;AACjB;AAEM;AACF;AACkC;AACrC;AACU;AACO;AACD;AAsB1D,IAAa,SAAS,GAAtB,MAAa,SAAS;CAAI;AAAb,SAAS;IApBrB,8DAAQ,CAAC;QACR,YAAY,EAAE;YACZ,2DAAY;SACb;QACD,OAAO,EAAE;YACP,uEAAa;YACb,0DAAa;YACb,4FAAuB;YACvB,uDAAW,CAAC,OAAO,CAAC,kDAAQ,EAAE;gBAC5B,oEAAY;gBACZ,aAAa,EAAE;oBACb,uBAAuB,EAAE,IAAI;oBAC7B,wBAAwB,EAAE,IAAI;iBAC/B;aACF,CAAC;YACF,wEAAmB,CAAC,UAAU,CAAC,EAAE,MAAM,EAAE,EAAE,EAAE,OAAO,EAAE,qEAAW,CAAC,UAAU,EAAE,CAAC;SAChF;QACD,SAAS,EAAE,EAAE;QACb,SAAS,EAAE,CAAC,2DAAY,CAAC;KAC1B,CAAC;GACW,SAAS,CAAI;AAAJ;;;;;;;;;;;;;AC/BtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA2I;AAE9E;AAYtD,MAAM,gBAAgB,GAAe;IAC1C,MAAM,EAAE,EAAE;CACX,CAAC;AAEK,MAAM,UAAU,GAAU;IAC/B,WAAW,EAAE,gBAAgB;IAC7B,SAAS,EAAE,EAAE;CACd,CAAC;AAEF,WAAW;AACJ,MAAM,QAAQ,GAA4B;IAC/C,WAAW,EAAE,iBAAiB;IAC9B,SAAS,EAAE,CAAC,KAAK,EAAE,MAAM,EAAE,EAAE,CAAC,KAAK;CACpC,CAAC;AAEK,MAAM,QAAQ,GAAG,gEAAY,CAAC,aAAa,EAAE,yDAAK,EAAS,CAAC,CAAC;AAC7D,MAAM,WAAW,GAAG,gEAAY,CAAC,gBAAgB,EAAE,yDAAK,EAAqB,CAAC,CAAC;AAC/E,MAAM,IAAI,GAAG,gEAAY,CAAC,cAAc,CAAC,CAAC;AAG1C,MAAM,YAAY,GAAG,iEAAa,CAAC,gBAAgB;AACxD,YAAY;AACZ,sDAAE,CAAC,QAAQ,EAAE,CAAC,KAAK,EAAE,KAAK,EAAE,EAAE;IAC5B,MAAM,IAAI,GAAG,CAAC,GAAG,KAAK,CAAC,MAAM,CAAC,CAAC;IAC/B,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IACjB,yBAAY,KAAK,IAAE,MAAM,EAAE,IAAI,IAAG;AACpC,CAAC,CAAC;AACF,eAAe;AACf,sDAAE,CAAC,WAAW,EAAE,CAAC,KAAK,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE;IACjC,MAAM,IAAI,GAAG,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;IAChE,yBAAY,KAAK,IAAE,MAAM,EAAE,IAAI,IAAG;AACpC,CAAC,CAAC,CACH,CAAC;AAEK,SAAS,iBAAiB,CAAC,KAAiB,EAAE,MAAc;IACjE,OAAO,YAAY,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;AACrC,CAAC;AAEM,SAAS,eAAe,CAAC,OAA2B;IACzD,OAAO,CAAC,QAAe,UAAU,EAAE,MAAM,EAAE,EAAE;QAC3C,IAAI,MAAM,CAAC,IAAI,KAAK,kBAAkB,EAAE;YACtC,OAAO,KAAK,CAAC;SACd;QACD,IAAI,MAAM,CAAC,IAAI,KAAK,IAAI,CAAC,IAAI,EAAE;YAC7B,MAAM,KAAK,GAAG,CAAC,GAAG,KAAK,CAAC,SAAS,CAAC,CAAC;YACnC,MAAM,WAAW,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC;YAChC,yBAAY,KAAK,IAAE,WAAW,EAAE,WAAW,EAAE,SAAS,EAAE,KAAK,IAAG;SACjE;QACD,MAAM,SAAS,GAAG,CAAC,GAAG,KAAK,CAAC,SAAS,CAAC,CAAC;QACvC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;QAClC,KAAK,qBAAQ,KAAK,IAAE,SAAS,GAAE,CAAC;QAChC,OAAO,OAAO,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;IAChC,CAAC,CAAC;AACJ,CAAC;AACM,MAAM,YAAY,GAAyB,CAAC,qEAAW,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;AAEnG,YAAY;AACL,MAAM,OAAO,GAAG,kEAAc,CAAC,CAAC,KAAY,EAAE,EAAE,CAAC,KAAK,CAAC,SAAS,EAAE,SAAS,CAAC,EAAE,CAAC,SAAS,IAAI,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;;;;;;;;;;;;;ACvEzH;AAAA;AAAA,gFAAgF;AAChF,0EAA0E;AAC1E,gEAAgE;AAEzD,MAAM,WAAW,GAAG;IACzB,UAAU,EAAE,KAAK;CAClB,CAAC;AAEF;;;;;;GAMG;AACH,mEAAmE;;;;;;;;;;;;;ACfnE;AAAA;AAAA;AAAA;AAAA;AAA+C;AAC4B;AAE9B;AACY;AAEzD,IAAI,qEAAW,CAAC,UAAU,EAAE;IAC1B,oEAAc,EAAE,CAAC;CAClB;AAED,gGAAsB,EAAE,CAAC,eAAe,CAAC,yDAAS,CAAC;KAChD,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC","file":"main-es2015.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","module.exports = \"<div class=\\\"main-container\\\">\\n  <div class=\\\"content-container\\\">\\n    <div class=\\\"content-area\\\">\\n      <h3>Multiple Undo Demo</h3>\\n      <clr-datagrid [(clrDgSelected)]=\\\"selected\\\">\\n\\n        <clr-dg-action-bar>\\n          <div class=\\\"btn-group\\\">\\n            <button type=\\\"button\\\" class=\\\"btn btn-sm btn-secondary\\\" (click)=\\\"onAdd()\\\">\\n              <clr-icon shape=\\\"plus\\\"></clr-icon> Add\\n            </button>\\n            <button type=\\\"button\\\" class=\\\"btn btn-sm btn-secondary\\\" (click)=\\\"onDelete()\\\" [disabled]=\\\"!selected.length\\\">\\n              <clr-icon shape=\\\"minus\\\"></clr-icon> Delete\\n            </button>\\n            <button type=\\\"button\\\" class=\\\"btn btn-sm btn-secondary\\\" (click)=\\\"onUndo()\\\" [disabled]=\\\"!undoable\\\">\\n              <clr-icon shape=\\\"undo\\\"></clr-icon> Undo\\n            </button>\\n          </div>\\n        </clr-dg-action-bar>\\n        <clr-dg-column>Customer Name</clr-dg-column>\\n        <clr-dg-column>Product</clr-dg-column>\\n        <clr-dg-column>Rate</clr-dg-column>\\n        <clr-dg-column>Total</clr-dg-column>\\n\\n        <clr-dg-row *ngFor=\\\"let order of orders\\\" [clrDgItem]=\\\"order\\\">\\n          <clr-dg-cell>{{order.customerName}}</clr-dg-cell>\\n          <clr-dg-cell>{{order.product}}</clr-dg-cell>\\n          <clr-dg-cell>{{order.rate}}</clr-dg-cell>\\n          <clr-dg-cell>{{order.total}}</clr-dg-cell>\\n        </clr-dg-row>\\n\\n        <clr-dg-footer>{{orders?.length}} Orders</clr-dg-footer>\\n      </clr-datagrid>\\n    </div>\\n  </div>\\n</div>\"","module.exports = \"clr-datagrid {\\n  min-height: 400px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9uYWdhcnMvUGVyc29uYWwvZ2l0aHViL25ncngtbXVsdGlwbGUtdW5kby9zcmMvYXBwL2FwcC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvYXBwLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsaUJBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL2FwcC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImNsci1kYXRhZ3JpZCB7XG4gIG1pbi1oZWlnaHQ6IDQwMHB4O1xufSIsImNsci1kYXRhZ3JpZCB7XG4gIG1pbi1oZWlnaHQ6IDQwMHB4O1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { Order } from './dto/dto';\nimport { Store } from '@ngrx/store';\nimport { State, addOrder, deleteOrder, undo, hasUndo } from './reducers';\n\nimport { generate } from 'shortid';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent implements OnInit {\n  title = 'ngrx-multiple-undo';\n  selected: Order[] = [];\n  orders: Order[] = [];\n  undoable: boolean;\n\n  constructor(private store: Store<State>) {\n    store.select('ordersState').subscribe(ordersState => {\n      this.orders = ordersState.orders;\n    });\n    store.select(hasUndo).subscribe(undoable => this.undoable = undoable);\n  }\n\n  ngOnInit() {\n  }\n\n  onAdd() {\n    const order: Order = {id: generate(), customerName: `Customer ${generate()}`, product: generate(), rate: 2, total: 100 };\n    this.store.dispatch(addOrder(order));\n  }\n\n  onDelete() {\n    this.store.dispatch(deleteOrder({ ids: this.selected.map(s => s.id) }));\n    this.selected = [];\n  }\n\n  onUndo() {\n    this.store.dispatch(undo());\n  }\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\nimport { AppComponent } from './app.component';\nimport { ClarityModule } from '@clr/angular';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { StoreModule } from '@ngrx/store';\nimport { reducers, metaReducers } from './reducers';\nimport { StoreDevtoolsModule } from '@ngrx/store-devtools';\nimport { environment } from '../environments/environment';\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule,\n    ClarityModule,\n    BrowserAnimationsModule,\n    StoreModule.forRoot(reducers, {\n      metaReducers,\n      runtimeChecks: {\n        strictStateImmutability: true,\n        strictActionImmutability: true\n      }\n    }),\n    StoreDevtoolsModule.instrument({ maxAge: 25, logOnly: environment.production })\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { Action, ActionReducerMap, createAction, createReducer, MetaReducer, on, props, ActionReducer, createSelector } from '@ngrx/store';\n\nimport { environment } from '../../environments/environment';\nimport { Order } from '../dto/dto';\n\n// STATE\nexport interface State {\n  ordersState: OrderState;\n  undoStack: OrderState[];\n}\nexport interface OrderState {\n  orders: Order[];\n}\n\nexport const INIT_ORDER_STATE: OrderState = {\n  orders: []\n};\n\nexport const INIT_STATE: State = {\n  ordersState: INIT_ORDER_STATE,\n  undoStack: []\n};\n\n// REDUCERS\nexport const reducers: ActionReducerMap<State> = {\n  ordersState: orderStateReducer,\n  undoStack: (state, action) => state\n};\n\nexport const addOrder = createAction(`[Order] Add`, props<Order>());\nexport const deleteOrder = createAction(`[Order] Delete`, props<{ ids: string[] }>());\nexport const undo = createAction(`[Order] Undo`);\n\n\nexport const orderReducer = createReducer(INIT_ORDER_STATE,\n  // add order\n  on(addOrder, (state, order) => {\n    const list = [...state.orders];\n    list.push(order);\n    return { ...state, orders: list };\n  }),\n  // delete order\n  on(deleteOrder, (state, { ids }) => {\n    const list = state.orders.filter(o => ids.indexOf(o.id) === -1);\n    return { ...state, orders: list };\n  })\n);\n\nexport function orderStateReducer(state: OrderState, action: Action) {\n  return orderReducer(state, action);\n}\n\nexport function undoMetaReducer(reducer: ActionReducer<any>): ActionReducer<any> {\n  return (state: State = INIT_STATE, action) => {\n    if (action.type === '@ngrx/store/init') {\n      return state;\n    }\n    if (action.type === undo.type) {\n      const stack = [...state.undoStack];\n      const replaceWith = stack.pop();\n      return { ...state, ordersState: replaceWith, undoStack: stack };\n    }\n    const undoStack = [...state.undoStack];\n    undoStack.push(state.ordersState);\n    state = { ...state, undoStack };\n    return reducer(state, action);\n  };\n}\nexport const metaReducers: MetaReducer<State>[] = !environment.production ? [undoMetaReducer] : [];\n\n// SELECTORS\nexport const hasUndo = createSelector((state: State) => state.undoStack, undoStack => undoStack && undoStack.length > 0);\n\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"sourceRoot":"webpack:///"}